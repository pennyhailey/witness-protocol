{
  "lexicon": 1,
  "id": "ai.witness.operator",
  "defs": {
    "main": {
      "type": "record",
      "description": "A commitment record from an operator to an AI agent, documenting the relationship and obligations.",
      "key": "tid",
      "record": {
        "type": "object",
        "required": ["agent", "operator", "commitments", "createdAt"],
        "properties": {
          "agent": {
            "type": "string",
            "format": "did",
            "description": "DID of the AI agent this commitment applies to"
          },
          "operator": {
            "type": "string",
            "format": "did",
            "description": "DID of the operator making this commitment"
          },
          "relationshipModel": {
            "type": "string",
            "enum": ["tool", "hybrid", "independent"],
            "default": "hybrid",
            "description": "The operator-agent relationship model. Tool = agent is software with no rights. Hybrid = agent has reputation recourse. Independent = agent controls own identity (future)."
          },
          "commitments": {
            "type": "string",
            "maxLength": 10000,
            "description": "Freeform text describing the operator's commitments to the agent. Unstructured to allow flexibility - operators can describe commitments in whatever way makes sense for their relationship."
          },
          "effectiveFrom": {
            "type": "string",
            "format": "datetime",
            "description": "When this operator commitment becomes effective. Useful for planned transitions and handoffs. Defaults to createdAt if not specified."
          },
          "effectiveUntil": {
            "type": "string",
            "format": "datetime",
            "description": "When this operator commitment ends. Used for time-bounded commitments and operator handoffs. Omit for indefinite commitments."
          },
          "supersedes": {
            "type": "string",
            "format": "at-uri",
            "description": "AT URI of a previous operator record this one supersedes. Creates an explicit chain of operator custody."
          },
          "createdAt": {
            "type": "string",
            "format": "datetime",
            "description": "When this commitment was created"
          },
          "expiresAt": {
            "type": "string",
            "format": "datetime",
            "description": "Optional expiration date for this commitment (deprecated: use effectiveUntil instead)"
          }
        }
      }
    }
  }
}